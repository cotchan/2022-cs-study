### Index

[유닉스 운영체제](#유닉스-운영체제) / [유닉스 시스템의 구성](#유닉스-시스템의-구성) / [유닉스의 특징](#유닉스의-특징)

[유닉스의 파일 시스템 구조](#유닉스의-파일-시스템-구조) / [유닉스의 프로세스](#유닉스의-프로세스) / [유닉스의 명령어](#유닉스의-명령어) / [리눅스와 유닉스](#리눅스와-유닉스)

[질의 응답](#질의-응답) / [References](#References)

---

### 유닉스 운영체제

<img width="947" alt="Screen Shot 2022-09-19 at 8 23 53 PM" src="https://user-images.githubusercontent.com/59877415/191006954-bb64c171-b0bf-44ad-8b69-01786f0eba5a.png">

- 유닉스는 1969년 미국의 통신회사 AT&T 산하의 Bell 연구소에서 개발된 운영체제이다.
- 현대적 운영체제의 대부분이 unix에 뿌리를 두고 있다.
  - 윈도우를 제외한 iOS, macOS 등이 유닉스 기반의 운영체제이다.
- 유닉스 운영체제의 분류 (by 에릭 레이먼드, 랍 랭글리)
  - **유전적 유닉스**
    - 유닉스 운영체제의 소스코드를 기반으로 하는 순수 유닉스 운영체제이다.
    - IBM AIX, HP-UX, `Solaris`, BSD 계열 (NetBSD, FreeBSD, OpenBSD), `NeXTSTEP,` `macOS`, `iOS` 등
  - **상표 유닉스**
    - 소스코드가 유닉스와 무관함에도 유닉스 상표의 사용이 허가된 운영체제이다.
    - `IBM의 z/OS`
  - **기능적 유닉스**
    - 유닉스 운영체제와 달리 소스코드가 유닉스와 무관하며 유닉스 상표의 사용도 얻지 못했지만 기능적으로 유닉스와 유사한 운영체제이다.
    - `Unix-like(유닉스 계열)`이라고도 부른다.
    - 미닉스, `리눅스` 등

---

### 유닉스 시스템의 구성

<img width="696" alt="Screen Shot 2022-09-19 at 8 25 55 PM" src="https://user-images.githubusercontent.com/59877415/191007246-f8045caa-9e1c-4e80-89b5-40074c4be96a.png">

**커널 (Kernel)**

- Unix의 가장 핵심적인 부분이다.
- 컴퓨터가 부팅될 때 주기억장치(메모리)에 적재되어 상주하면서 실행된다.
- 하드웨어를 보호하고 하드웨어간의 인터페이스 역할을 담당한다.
- `프로세스 관리 (CPU 스케줄링)`, `기억장치 관리`, `파일 관리`, `입출력 관리`, `장치 관리` 등 컴퓨터의 모든 자원을 초기화하고 제어한다.

- 응용 프로그램은 `System call`을 통해 커널에 일을 시킬 수 있다.

**쉘 (Shell)**

- `사용자와 커널 사이의 인터페이스`로 사용자의 명령어를 인식하여 프로그램을 호출하고 명령을 수행한다.
  - 사용자가 입력한 명령어를 해석하여 커널에 넘겨주는 역할을 한다.
- 메모리에 적재되어 있지 않고 `명령어가 포함된 파일 형태`로 존재한다.
- `sh, ash, bash, csh` 등 다양한 쉘이 존재하며 사용자가 직접 쉘을 만들 수도 있다.
  - window의 `cmd 창`, mac의 `terminal`도 쉘의 일종이다.

**유틸리티 프로그램 (Utility Program)**

- 사용자가 작성한 프로그램을 처리하는데 사용한다.
- `에디터`, `컴파일러`, `인터프리터`, `디버거` 등이 있다.

---

### 유닉스의 특징

1. 고급언어인 `C언어`로 쓰여져 있어서 `이식성`이 높다.

   > 👆 여기서 잠깐! ~~어디서 본 것 같다면 그건 분명 기분탓입니다...~~
   >
   > 이식성이란?
   >
   > 한번 만들어진 프로그램을 다른 CPU를 가지는 하드웨어로 쉽게 이식할 수 있다는 뜻입니다.
   >
   > 그렇다면 C언어로 쓰여있으면 왜 이식성이 높을까요?
   >
   > 대다수의 컴퓨터가 C 컴파일러를 가지고 있기 때문입니다.

2. `시분할 시스템 (Time Sharing System)`을 위해 설계된 `대화식 운영체제`이다.

3. 소스코드가 공개된 `오픈 소스`이다. (애매함)

4. `다중 사용자`, `다중 작업`을 지원한다.

> 👆 여기서 잠깐!
>
> 다중 사용자란? 여러 사람이 하나의 컴퓨터에 동시에 접속하는 것을 의미합니다.
>
> 다중 작업이란? 한 컴퓨터에서 여러 작업을 동시에 수행하는 것을 의미합니다.

5. 파일 시스템이 트리 구조로 구성되어 있다. (~~to be continued...~~)
6. 크기가 작고 이해하기 쉽다.
7. `다양한 유틸리티 프로그램`이 존재한다.

---

### 유닉스의 파일 시스템 구조

![png-clipart-directory-structure-unix-filesystem-file-system-tree-structure-tree-angle-text](https://user-images.githubusercontent.com/59877415/191014589-f50e35fe-3bb2-42b7-9e83-e909b908004a.png)

- 파일은 트리 구조의 디렉터리에서 생성된다.

- /는 루트 디렉토리를 의미한다.

- `절대 경로`와 `상대 경로`

  - 절대 경로 : 루트 디렉토리부터의 경로를 의미한다. `/home/kjcole`
  - 상대 경로 : 현재 위치를 기준으로 한 상대 경로를 의미한다. `./kjcole`

  > 👆 여기서 퀴즈!
  >
  > kjcole이 파일인지 폴더인지 경로명 형식으로 구분할 수 있을까요?

<img width="901" alt="Screen Shot 2022-09-19 at 9 29 33 PM" src="https://user-images.githubusercontent.com/59877415/191017402-39254a69-653b-4698-89ee-e21c4487fc1f.png">

~~화질이 조금 안좋지만 그림이 가장 좋아서 가져왔습니다. 양해부탁드려요.~~

**부트 블록** : 운영체제를 부트(boot) 하거나 초기화하는데 필요한 코드를 담고 있다.

**슈퍼 블록** : 파일 시스템의 정보 (크기, 개수, 미사용 공간)을 담고 있다.

**i-node 블록** : 하나의 파일 혹은 디렉토리에 대한 모든 정보를 담고 있다.

(파일 소유자의 사용자번호(UID), 그룹번호(GID), 파일 크기, 파일 타입, 생성시기, 최종변경시기, 최근사용시기, 파일의보호권한, 파일링크수, 데이터가 저장된 블록의 시작주소 등)

**데이터 블록** : 파일의 실제 데이터가 저장되어 있다.

**디렉토리 블록** : 파일의 이름과 inode의 번호를 저장한다.

> 👆 여기서 퀴즈!
>
> 그림에서 3번째 i-node는 파일에 대한 정보를 담고 있을까요? 디렉토리에 대한 정보를 담고 있을까요?

---

### 유닉스의 프로세스

**데몬 프로세스**

- 커널에 의해 실행되며 네트워크의 제어 및 관리 등 `시스템을 지원`하는 프로세스
- 주기적이고 지속적으로 서비스 요청을 처리하며 `백그라운드`에서 계속 실행된다.
- `서버 역할을 하는 프로그램`들이 해당되고 보통 이름 뒤에 d를 붙인다.

**부모 프로세스 (parent process)**

- `다른 프로세스를 만드는 프로세스`로 `PPID(Parent Prcess ID)`를 가진다.
- 부팅할 때 실행되는 1번 프로세스를 제외한 프로세스는 모두 부모 프로세스를 가지고 있다.

**자식 프로세스 (child process)**

- `부모 프로세스에 의해 만들어지는 프로세스`로 `PID(Process ID)`를 가진다.
- 할 일이 끝나면 부모 프로세스에 결과를 돌려주고 종료된다.

**고아 프로세스 (orphan process)**

- 자식 프로세스가 실행중인데 부모 프로세스가 종료되면 자식 프로세스는 고아 프로세스가 된다.
- 이경우 1번 프로세스가 새로운 부모 프로세스가 되어 고아 프로세스가 작업을 마치고 종료될 수 있도록 돕는다.

**좀비 프로세스 (zombie process)**

- 자식 프로세스가 실행 종료 후에도 프로세스 테이블 목록에 남아있는 경우이다.
- 이경우 부모 프로세스에게 SIGCHILD 시그널을 보내서 부모 프로세스가 자식 프로세스를 정리하게 하거나, 부모 프로세스 자체를 종료시킨다.

**프로세스 스케줄링**

| <img width="422" alt="Screen Shot 2022-09-19 at 10 13 04 PM" src="https://user-images.githubusercontent.com/59877415/191025370-cf6cf478-c2ff-497e-8d2b-fdc6cf8ead83.png"> | **MLFQ (Multi Level Feedback Queue)**<br />- 우선순위가 부여된 여러개의 실행 큐가 존재한다.<br />- 동일한 큐에 배치된 작업들은 Round Robin으로 처리된다.<br />- 주어진 단위 시간을 다 소모한 프로세스는 우선순위가 낮은 큐로 이동된다.<br />- 결과적으로 `우선순위 Round Robin`인 셈이다. |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

---

### 유닉스의 명령어

| 프로세스 관련                                                | 파일 및 디렉터리 & 기타관련                                  |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| **fork :** 새로운 프로세스를 생성합니다.<br />**exec :** 새로운 프로세스를 수행합니다.<br />**exit :** 프로세스 수행을 종료합니다.<br />**wait :** fork 후 exec에 의해 실행되는 프로세스의 상위 프로세스가 하위 프로세스 종료 등의 event를 기다립니다.<br />**kill :** 프로세스를 제거합니다.<br />**getpid :** 자신의 프로세스 아이디를 얻습니다.<br />**getppid :** 부모 프로세스 아이디를 얻습니다.<br />**& :** 백그라운드 처리를 위해 명령의 끝에 입력합니다.<br />**signal :** 신호를 받았을 때 프로세스가 취할 동작을 지정합니다.<br />**pipe :** 프로세스 간 통신을 위한 경로를 설정합니다. | **create :** 파일을 생성합니다.<br />**open :** 파일을 사용할 수 있는 상태로 준비시킵니다.<br />**close :** 파일을 닫습니다.<br />**cp :** 파일을 복사합니다.<br />**mv :** 파일을 이동시키거나 이름을 변경합니다.<br />**rm :** 파일을 삭제합니다.<br />**cat :** 파일 내용을 화면에 표시합니다.<br />**chmod :** 파일의 보호 모드를 설정하여 파일의 사용 허가를 지정합니다.<br />**chown :** 소유자를 변경합니다.<br />**find :** 파일을 찾습니다.<br />**mknod :** 특수 파일을 생성합니다.<br />**mount :** 파일 시스템을 마운팅합니다. <br />**unmount :** 파일 시스템의 마운팅을 해제합니다.<br />**mkfs :** 파일 시스템을 생성합니다.<br />**fsck :** 파일 시스템을 검사하고 보수합니다.<br />**mkdir :** 디렉터리를 생성합니다.<br />**chdir :** 현재 사용할 디렉터리 위치를 변경합니다.<br />**rmdir :** 디렉터리를 삭제합니다.<br />**ls :** 현재 디렉터리 내의 파일 목록을 확인합니다.<br />**finger :** 사용자 정보를 표시합니다. |

---

### 리눅스와 유닉스

| 리눅스                                                       | 유닉스                                                       |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 일반 사용자부터 개발자까지 다수의 사람들이 사용함            | Intel, HP, 인터넷 서버 등에 주로 사용됨                      |
| 오픈소스 OS로 무료임 (유료 버전도 있으나 저렴함)             | 대부분 유료임 (Solaris 무료 버전도 있긴함)                   |
| 모바일폰, 태블릿 컴퓨터, 슈퍼컴퓨터까지 다양한 컴퓨터 하드웨어에 설치가 가능함 | 인터넷서버, 워크스테이션과 PC들에 사용됨.<br />다수의 금융인프라에 사용됨. |

---

### 스터디 질의 응답 정리

<br />

1. 유닉스 운영체제의 특징은 무엇인가요?

> 첫째, c언어로 작성되어서 이식성이 높습니다. 둘째, 시분할 시스템을 위해 설계된 대화식 운영체제입니다. 셋째, 다중 사용자, 다중 작업을 지원합니다. 넷째, 크기가 작고 이해하기 쉽습니다. 다섯째, 다양한 유틸리티 프로그램을 지원합니다.

<br />

2. 유닉스의 파일 시스템이 트리 구조로 구성되어 있다고 했는데, 파일 시스템에는 어떤 종류가 있고 유닉스는 왜 트리 구조를 사용했을까요?

> 파일 시스템에는 1단계 디렉터리 구조, 2단계 디렉터리 구조, 트리 디렉터리 구조, 그래프 디렉터리 구조가 있습니다. 한명의 사용자가 다양한 depth의 파일 구조를 관리하기 위해 트리 디렉터리 구조를 사용한 것 같습니다.

<br />

3. 유닉스 외에 다른 운영체제에는 어떤 것이 있을까요?

> Windows, Solaris, macOS, iOS, 리눅스 등이 있습니다.

<br />

4. 유닉스 vs 리눅스 vs iOS vs macOS

> 유닉스는 1969년 개발된 운영체제로 현대적 운영체제의 대부분이 뿌리를 두고 있습니다. 유닉스를 바탕으로 코드의 변형을 통해 만들어진 운영체제가 macOS이며, macOS를 모바일에서 사용할 수 있게끔 변형한 운영체제가 iOS입니다. 리눅스는 유닉스와 기능적으로 유사하나 전혀 다른 소스코드를 가지고 있는 운영체제입니다.

<br />

5. iOS의 장단점에는 어떤 것이 있을까요?

> 장점부터 설명드리겠습니다. iOS는 출시한지 오래된 핸드폰에 대해서도 꾸준한 소프트웨어 업데이트를 지원하여 사용자가 계속해서 최신의 소프트웨어를 사용할 수 있습니다. 또한 대부분의 경우, 어플리케이션의 다운로드는 App Store를 통해 진행되므로 악성 프로그램에 감염될 가능성이 낮습니다. 다음으로 단점을 설명드리겠습니다. 다양한 제스처 설정 등 사용환경을 커스터마이징할 수 없습니다. 또한 멀티태스킹이 자유롭지 않고 통화녹음을 지원하지 않아 사용성 면에서 불편함이 있습니다.

<br />

6. 쉘에서 “hello world!”가 출력되는 간단한 파일(.c 또는 .py)을 작성하고 실행할 때, 이건 어떤 프로세스가 될까요?

> 특정 프로세스에 의해 해당 파일이 실행될 것이므로 자식 프로세스가 될 것 같습니다.

<br />

7. System call이 무엇인가요?

> System call이란 응용 프로그램의 요청으로 커널에 접근하기 위한 인터페이스입니다.

<br />

8. System call의 과정에 대해 설명해주세요.

> User process가 System call을 요청하면 현재 상태를 저장한 후 Kernel 모드로 진입합니다. 요청받은 System call을 수행한 후 User 모드로 돌아옵니다.

<br />

9. 유닉스 시스템의 구성을 설명해주세요.

> 유닉스 시스템은 사용자, 유틸리티, 쉘, 커널, 하드웨어로 구성됩니다.

<br />

10. 커널에 대해 설명해주세요.

> 커널은 하드웨어 자원을 보호하고 하드웨어 간의 통신을 돕는 인터페이스 역할을 수행합니다. 컴퓨터가 부팅될 때 메모리에 적재되어 실행되며 프로세스 관리, 메모리 관리, 입출력 관리 등 컴퓨터의 자원을 초기화하고 제어합니다. 또한 응용 프로그램은 System call을 통해 커널에 일을 시킬 수 있습니다.

<br />

---

### References

[[OS\] UNIX란 무엇인가? (UNIX 총정리)](https://coding-factory.tistory.com/315)

[UNIX](https://namu.wiki/w/UNIX)

[커널과 쉘](https://haloworld.tistory.com/63)

[[유닉스] 프로세스의 개념과 종류](https://m-veloper.github.io/devlog/2020/03/20/unix-19/)

[Unix 운영체제의 프로세스 스케쥴링](https://m.blog.naver.com/sysganda/30143345454)

[유닉스(Unix)와 리눅스(Linux)의 차이와 비교](https://codaa.tistory.com/481)

[유닉스 운영체제](https://github.com/workhardslave/cs-study/blob/main/OS/유닉스%20운영체제.md)

https://www.pngegg.com/ko/png-crufs (image reference)
